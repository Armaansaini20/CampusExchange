{"ast":null,"code":"import{useEffect,useState}from\"react\";import Header from\"./Header\";import{useNavigate,Link}from\"react-router-dom\";import axios from\"axios\";import categories from\"./CategoriesList\";import API_URL from\"../constants\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function AddProduct(){const navigate=useNavigate();const[pname,setpname]=useState('');const[pdesc,setpdesc]=useState('');const[price,setprice]=useState('');const[category,setcategory]=useState('');const[pimage,setpimage]=useState('');const[pimage2,setpimage2]=useState('');useEffect(()=>{if(!localStorage.getItem('token')){navigate('/login');}},[]);const handleApi=()=>{navigator.geolocation.getCurrentPosition(position=>{const formData=new FormData();formData.append('plat',position.coords.latitude);formData.append('plong',position.coords.longitude);formData.append('pname',pname);formData.append('pdesc',pdesc);formData.append('price',price);formData.append('category',category);formData.append('pimage',pimage);formData.append('pimage2',pimage2);formData.append('userId',localStorage.getItem('userId'));const url=API_URL+'/add-product';axios.post(url,formData).then(res=>{if(res.data.message){alert(res.data.message);navigate('/');}}).catch(err=>{alert('server err');});});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-3\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\" ADD PRODUCT HERE : \"}),/*#__PURE__*/_jsx(\"label\",{children:\" Product Name \"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",type:\"text\",value:pname,onChange:e=>{setpname(e.target.value);}}),/*#__PURE__*/_jsx(\"label\",{children:\" Product Description \"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",type:\"text\",value:pdesc,onChange:e=>{setpdesc(e.target.value);}}),/*#__PURE__*/_jsx(\"label\",{children:\" Product Price\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",type:\"text\",value:price,onChange:e=>{setprice(e.target.value);}}),/*#__PURE__*/_jsx(\"label\",{children:\" Product Category \"}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-control\",value:category,onChange:e=>{setcategory(e.target.value);},children:[/*#__PURE__*/_jsx(\"option\",{children:\" Bikes \"}),/*#__PURE__*/_jsx(\"option\",{children:\" Mobiles \"}),/*#__PURE__*/_jsx(\"option\",{children:\" Cloth \"}),categories&&categories.length>0&&categories.map((item,index)=>{return/*#__PURE__*/_jsxs(\"option\",{children:[\" \",item,\" \"]},'option'+index);})]}),/*#__PURE__*/_jsx(\"label\",{children:\" Product Image \"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",type:\"file\",onChange:e=>{setpimage(e.target.files[0]);}}),/*#__PURE__*/_jsx(\"label\",{children:\" Product Second Image \"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",type:\"file\",onChange:e=>{setpimage2(e.target.files[0]);}}),/*#__PURE__*/_jsx(\"button\",{onClick:handleApi,className:\"btn btn-primary mt-3\",children:\" SUBMIT \"})]})]});}export default AddProduct;","map":{"version":3,"names":["useEffect","useState","Header","useNavigate","Link","axios","categories","API_URL","jsx","_jsx","jsxs","_jsxs","AddProduct","navigate","pname","setpname","pdesc","setpdesc","price","setprice","category","setcategory","pimage","setpimage","pimage2","setpimage2","localStorage","getItem","handleApi","navigator","geolocation","getCurrentPosition","position","formData","FormData","append","coords","latitude","longitude","url","post","then","res","data","message","alert","catch","err","children","className","type","value","onChange","e","target","length","map","item","index","files","onClick"],"sources":["C:/Users/DELL/Documents/GitHub/olx-clone/react-application/src/components/AddProduct.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport Header from \"./Header\";\r\nimport { useNavigate, Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport categories from \"./CategoriesList\";\r\nimport API_URL from \"../constants\";\r\n\r\nfunction AddProduct() {\r\n\r\n    const navigate = useNavigate();\r\n    const [pname, setpname] = useState('');\r\n    const [pdesc, setpdesc] = useState('');\r\n    const [price, setprice] = useState('');\r\n    const [category, setcategory] = useState('');\r\n    const [pimage, setpimage] = useState('');\r\n    const [pimage2, setpimage2] = useState('');\r\n\r\n\r\n    useEffect(() => {\r\n        if (!localStorage.getItem('token')) {\r\n            navigate('/login')\r\n        }\r\n    }, [])\r\n\r\n    const handleApi = () => {\r\n\r\n        navigator.geolocation.getCurrentPosition((position) => {\r\n            const formData = new FormData();\r\n            formData.append('plat', position.coords.latitude)\r\n            formData.append('plong', position.coords.longitude)\r\n            formData.append('pname', pname)\r\n            formData.append('pdesc', pdesc)\r\n            formData.append('price', price)\r\n            formData.append('category', category)\r\n            formData.append('pimage', pimage)\r\n            formData.append('pimage2', pimage2)\r\n            formData.append('userId', localStorage.getItem('userId'))\r\n\r\n            const url =  API_URL + '/add-product';\r\n            axios.post(url, formData)\r\n                .then((res) => {\r\n                    if (res.data.message) {\r\n                        alert(res.data.message); \r\n                        navigate('/')\r\n                    }\r\n                })\r\n                .catch((err) => {\r\n                    alert('server err')\r\n                })\r\n        })\r\n\r\n\r\n\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Header />\r\n            <div className=\"p-3\">\r\n\r\n                <h2> ADD PRODUCT HERE : </h2>\r\n                <label> Product Name </label>\r\n                <input className=\"form-control\" type=\"text\" value={pname}\r\n                    onChange={(e) => { setpname(e.target.value) }} />\r\n                <label> Product Description </label>\r\n                <input className=\"form-control\" type=\"text\" value={pdesc}\r\n                    onChange={(e) => { setpdesc(e.target.value) }} />\r\n                <label> Product Price</label>\r\n                <input className=\"form-control\" type=\"text\" value={price}\r\n                    onChange={(e) => { setprice(e.target.value) }} />\r\n                <label> Product Category </label>\r\n                <select className=\"form-control\" value={category}\r\n                    onChange={(e) => { setcategory(e.target.value) }}>\r\n                    <option> Bikes </option>\r\n                    <option> Mobiles </option>\r\n                    <option> Cloth </option>\r\n                    {\r\n                        categories && categories.length > 0 &&\r\n                        categories.map((item, index) => {\r\n                            return (\r\n                                <option key={'option' + index}> {item} </option>\r\n                            )\r\n                        })\r\n                    }\r\n                </select>\r\n                <label> Product Image </label>\r\n                <input className=\"form-control\" type=\"file\"\r\n                    onChange={(e) => {\r\n                        setpimage(e.target.files[0])\r\n                    }} />\r\n\r\n                <label> Product Second Image </label>\r\n                <input className=\"form-control\" type=\"file\"\r\n                    onChange={(e) => {\r\n                        setpimage2(e.target.files[0])\r\n                    }} />\r\n                <button onClick={handleApi} className=\"btn btn-primary mt-3\"> SUBMIT </button>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AddProduct;"],"mappings":"AAAA,OAASA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,MAAO,CAAAC,MAAM,KAAM,UAAU,CAC7B,OAASC,WAAW,CAAEC,IAAI,KAAQ,kBAAkB,CACpD,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,UAAU,KAAM,kBAAkB,CACzC,MAAO,CAAAC,OAAO,KAAM,cAAc,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEnC,QAAS,CAAAC,UAAUA,CAAA,CAAG,CAElB,KAAM,CAAAC,QAAQ,CAAGV,WAAW,CAAC,CAAC,CAC9B,KAAM,CAACW,KAAK,CAAEC,QAAQ,CAAC,CAAGd,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACe,KAAK,CAAEC,QAAQ,CAAC,CAAGhB,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACiB,KAAK,CAAEC,QAAQ,CAAC,CAAGlB,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACmB,QAAQ,CAAEC,WAAW,CAAC,CAAGpB,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACqB,MAAM,CAAEC,SAAS,CAAC,CAAGtB,QAAQ,CAAC,EAAE,CAAC,CACxC,KAAM,CAACuB,OAAO,CAAEC,UAAU,CAAC,CAAGxB,QAAQ,CAAC,EAAE,CAAC,CAG1CD,SAAS,CAAC,IAAM,CACZ,GAAI,CAAC0B,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAAE,CAChCd,QAAQ,CAAC,QAAQ,CAAC,CACtB,CACJ,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAe,SAAS,CAAGA,CAAA,GAAM,CAEpBC,SAAS,CAACC,WAAW,CAACC,kBAAkB,CAAEC,QAAQ,EAAK,CACnD,KAAM,CAAAC,QAAQ,CAAG,GAAI,CAAAC,QAAQ,CAAC,CAAC,CAC/BD,QAAQ,CAACE,MAAM,CAAC,MAAM,CAAEH,QAAQ,CAACI,MAAM,CAACC,QAAQ,CAAC,CACjDJ,QAAQ,CAACE,MAAM,CAAC,OAAO,CAAEH,QAAQ,CAACI,MAAM,CAACE,SAAS,CAAC,CACnDL,QAAQ,CAACE,MAAM,CAAC,OAAO,CAAErB,KAAK,CAAC,CAC/BmB,QAAQ,CAACE,MAAM,CAAC,OAAO,CAAEnB,KAAK,CAAC,CAC/BiB,QAAQ,CAACE,MAAM,CAAC,OAAO,CAAEjB,KAAK,CAAC,CAC/Be,QAAQ,CAACE,MAAM,CAAC,UAAU,CAAEf,QAAQ,CAAC,CACrCa,QAAQ,CAACE,MAAM,CAAC,QAAQ,CAAEb,MAAM,CAAC,CACjCW,QAAQ,CAACE,MAAM,CAAC,SAAS,CAAEX,OAAO,CAAC,CACnCS,QAAQ,CAACE,MAAM,CAAC,QAAQ,CAAET,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC,CAAC,CAEzD,KAAM,CAAAY,GAAG,CAAIhC,OAAO,CAAG,cAAc,CACrCF,KAAK,CAACmC,IAAI,CAACD,GAAG,CAAEN,QAAQ,CAAC,CACpBQ,IAAI,CAAEC,GAAG,EAAK,CACX,GAAIA,GAAG,CAACC,IAAI,CAACC,OAAO,CAAE,CAClBC,KAAK,CAACH,GAAG,CAACC,IAAI,CAACC,OAAO,CAAC,CACvB/B,QAAQ,CAAC,GAAG,CAAC,CACjB,CACJ,CAAC,CAAC,CACDiC,KAAK,CAAEC,GAAG,EAAK,CACZF,KAAK,CAAC,YAAY,CAAC,CACvB,CAAC,CAAC,CACV,CAAC,CAAC,CAIN,CAAC,CAED,mBACIlC,KAAA,QAAAqC,QAAA,eACIvC,IAAA,CAACP,MAAM,GAAE,CAAC,cACVS,KAAA,QAAKsC,SAAS,CAAC,KAAK,CAAAD,QAAA,eAEhBvC,IAAA,OAAAuC,QAAA,CAAI,sBAAoB,CAAI,CAAC,cAC7BvC,IAAA,UAAAuC,QAAA,CAAO,gBAAc,CAAO,CAAC,cAC7BvC,IAAA,UAAOwC,SAAS,CAAC,cAAc,CAACC,IAAI,CAAC,MAAM,CAACC,KAAK,CAAErC,KAAM,CACrDsC,QAAQ,CAAGC,CAAC,EAAK,CAAEtC,QAAQ,CAACsC,CAAC,CAACC,MAAM,CAACH,KAAK,CAAC,CAAC,CAAE,CAAE,CAAC,cACrD1C,IAAA,UAAAuC,QAAA,CAAO,uBAAqB,CAAO,CAAC,cACpCvC,IAAA,UAAOwC,SAAS,CAAC,cAAc,CAACC,IAAI,CAAC,MAAM,CAACC,KAAK,CAAEnC,KAAM,CACrDoC,QAAQ,CAAGC,CAAC,EAAK,CAAEpC,QAAQ,CAACoC,CAAC,CAACC,MAAM,CAACH,KAAK,CAAC,CAAC,CAAE,CAAE,CAAC,cACrD1C,IAAA,UAAAuC,QAAA,CAAO,gBAAc,CAAO,CAAC,cAC7BvC,IAAA,UAAOwC,SAAS,CAAC,cAAc,CAACC,IAAI,CAAC,MAAM,CAACC,KAAK,CAAEjC,KAAM,CACrDkC,QAAQ,CAAGC,CAAC,EAAK,CAAElC,QAAQ,CAACkC,CAAC,CAACC,MAAM,CAACH,KAAK,CAAC,CAAC,CAAE,CAAE,CAAC,cACrD1C,IAAA,UAAAuC,QAAA,CAAO,oBAAkB,CAAO,CAAC,cACjCrC,KAAA,WAAQsC,SAAS,CAAC,cAAc,CAACE,KAAK,CAAE/B,QAAS,CAC7CgC,QAAQ,CAAGC,CAAC,EAAK,CAAEhC,WAAW,CAACgC,CAAC,CAACC,MAAM,CAACH,KAAK,CAAC,CAAC,CAAE,CAAAH,QAAA,eACjDvC,IAAA,WAAAuC,QAAA,CAAQ,SAAO,CAAQ,CAAC,cACxBvC,IAAA,WAAAuC,QAAA,CAAQ,WAAS,CAAQ,CAAC,cAC1BvC,IAAA,WAAAuC,QAAA,CAAQ,SAAO,CAAQ,CAAC,CAEpB1C,UAAU,EAAIA,UAAU,CAACiD,MAAM,CAAG,CAAC,EACnCjD,UAAU,CAACkD,GAAG,CAAC,CAACC,IAAI,CAAEC,KAAK,GAAK,CAC5B,mBACI/C,KAAA,WAAAqC,QAAA,EAA+B,GAAC,CAACS,IAAI,CAAC,GAAC,GAA1B,QAAQ,CAAGC,KAAuB,CAAC,CAExD,CAAC,CAAC,EAEF,CAAC,cACTjD,IAAA,UAAAuC,QAAA,CAAO,iBAAe,CAAO,CAAC,cAC9BvC,IAAA,UAAOwC,SAAS,CAAC,cAAc,CAACC,IAAI,CAAC,MAAM,CACvCE,QAAQ,CAAGC,CAAC,EAAK,CACb9B,SAAS,CAAC8B,CAAC,CAACC,MAAM,CAACK,KAAK,CAAC,CAAC,CAAC,CAAC,CAChC,CAAE,CAAE,CAAC,cAETlD,IAAA,UAAAuC,QAAA,CAAO,wBAAsB,CAAO,CAAC,cACrCvC,IAAA,UAAOwC,SAAS,CAAC,cAAc,CAACC,IAAI,CAAC,MAAM,CACvCE,QAAQ,CAAGC,CAAC,EAAK,CACb5B,UAAU,CAAC4B,CAAC,CAACC,MAAM,CAACK,KAAK,CAAC,CAAC,CAAC,CAAC,CACjC,CAAE,CAAE,CAAC,cACTlD,IAAA,WAAQmD,OAAO,CAAEhC,SAAU,CAACqB,SAAS,CAAC,sBAAsB,CAAAD,QAAA,CAAC,UAAQ,CAAQ,CAAC,EAC7E,CAAC,EAEL,CAAC,CAEd,CAEA,cAAe,CAAApC,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}